# JPA 특징

## 1. Java Persistence API이다.
### `자바 프로그래밍을 할 때 영구적으로 데이터를 저장 하기 위해서 필요한 인터페이스`

- 현재 자바 진영의 ORM기술 표준이다. (자바에서 ORM 기술을 이용하기 위한 인터페이스의 집합)
  - 즉, 실제로 구현된것이 아니라 구현된 클래스와 매핑을 해주기 위해 사용되는 프레임워크이다.
- JPA를 구현한 대표적인 오픈소르로 Hibernate가 있다.
  
<br></br>

## 2. ORM 기술이다. (Object Relational Mapping)
### `오브젝트를 데이터베이스에 연결하는 방법론`

## 장점
### 생산성의 증가
- 기본적으로 객체를 관계형데이터베이스에 저장/조회 등을 하는데 필요한 SQL을 개발자 대신해 줌으로써 반복적인 CRUD용 SQL문을 개발자가 작성하지 않아도 된다.
### 재사용, 유지보수, 리팩토링 용이성
- SQL문을 직접 작성하지 않음으로써 객체의 변화(속성추가 등)가 있을 때 모든 SQL을 직접 수정할 필요가 없다. 단지 해당 엔티티에 속성을 수정하면 된다.
### DBMS 종속성 하락
- 객체 간의 관계를 바탕으로 SQL문을 자동으로 생성하고, 객체의 자료형 타입까지 사용할 수 있기 때문에 RDBMS의 데이터 구조와 객체지향 모델 사이의 간격을 좁힐 수 있다. 객체에만 집중할 수 있기 때문에 DBMS를 교체하는 큰 작업에도 리스크가 적고 시간도 줄어든다.
### 패러다임의 불일치 해결
- 상속, 연관관계, 객체 그래프 탐색, 비교 등 관계형 데이터베이스와의 패러다임 불일치로 어려워지는 문제들을 해결해 준다.
### 표준성
- JPA라는 표준을 구현한 ORM프레임워크들을 사용하기 때문에 표준을 구현한 다른 프레임워크로 손쉽게 변경할 수 있다.

## 단점
### 난이도
- 프로젝트의 복잡성이 커질 수록 난이도도 올라가고 부족한 설계로 잘못 구현되었을 경우 속도 저하 및 일관성을 무너뜨리는 문제점이 생길 수 있다.
<br></br>

<br></br>
## 3. 영속성 컨텍스트를 가지고 있다.
### `데이터를 영구적으로 저장하게 해주는 속성`
- 애플리케이션과 데이터베이스 사이에서 객체를 보관하는 가상의 데이터베이스 역할

## 장점
### 1차 캐시
- 영속성 컨텍스트의 관리를 받는 객체는 1차 캐시라는 공간에 보관된다. 그러므로 한번 저장된 객체는 다시 같은 정보를 찾을 때 쿼리를 날릴 필요 없이 영속성 1차캐시에서 해당 객체를 가져오게 된다.
  - 해당 객체가 1차 캐시에 존재하지 않을 경우, 쿼리를 날려 DB에서 긁어온 다음 1차 캐시에 저장한다.

### 동일성 보장
- DB에서 쿼리를 날려서 객체를 담는다면 같은 객체를 EB에서 긁어왔다고 하더라도 객체의 주소값이 서로 다르기 때문에 == 연산시에 fasle가 나오게 된다. 하지만, JPA의 경우 ==연산시 동일한 객체라면 true를 반환하게 되는데, 영속성 컨텍스트의 객체에 저장된 값을 가져오기 때문에 가능한 일이다.

### 트랜잭션을 지원하는 쓰기지연
- EntityManager가 데이터를 입력, 수정할 때에는 트랜잭션 단위 안에서 입력, 수정을 할 수 있다.
  - 트랜잭션시에 모든 데이터를 쿼리로 날리게 되면 그때 그때 쿼리를 날리는 것 보다 최적화에 도움이 된다.

### 변경 감지
- 1차 캐시 안에는 최초로 1차 캐시에 초기화 되었을때의 값을 저장하고 있다. 이것을 스냅샷 이라고 부르는데, 이 스냅샷과 현재 저장된 값이 다를 경우 update 쿼리를 생성하게 된다.
  - 따라서 이미 영속성 컨택스트의 관리를 받는 객체에 대해서는 업데이트 쿼리를 날려줄 필요가 없다.

<br></br>


<br></br><br></br>


출처 : 메타코딩 : <https://www.youtube.com/c/%EB%A9%94%ED%83%80%EC%BD%94%EB%94%A9>,  
deveely : <https://do-study.tistory.com/58>,  
Be ready to study forever : <https://lunuloopp.tistory.com/entry/JPA-%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%9E%80>,  


